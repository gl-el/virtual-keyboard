(()=>{"use strict";var e={426:(e,t,s)=>{s.d(t,{Z:()=>a});var o=s(81),i=s.n(o),n=s(645),c=s.n(n)()(i());c.push([e.id,".centered {\n  width: 1020px;\n  margin: 0 auto;\n}\n\n.textarea {\n  display: block;\n  height: 100px;\n  resize: none;\n  border-radius: 5px;\n  outline: 1px solid #595958;\n}\n\n.textarea:focus {\n  outline: 1px solid #595958;\n}\n\n.board {\n  background-color: #b8b4a9;\n  box-sizing: border-box;\n  border-radius: 7px;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  box-shadow: 5px 5px #595958;\n}\n\n.board__row {\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n}\n\n.key {\n  height: 55px;\n  border: none;\n  border-radius: 5px;\n  line-height: 55px;\n  text-align: center;\n  background-color: #faf5e8;\n  box-shadow: 5px 5px 5px #595958;\n  transition: all 0.1s;\n}\n\n.key:hover {\n  cursor: pointer;\n  background-color: #ebe2ca;\n}\n\n.key:active,\n.key_active{\n  background-color: #ebe2ca;\n  box-shadow: 1px 1px 5px #595958;\n}\n\n.key_square {\n  width: 55px;\n}\n\n.key_long {\n  flex-grow: 1;\n}\n\n.key_double {\n  width: 90px;\n}\n\n.key_triple {\n  width: 120px;\n}\n\n.key_caps {\n  position: relative;\n}\n\n.key_caps:after {\n  content: \"\";\n  position: absolute;\n  right: 3px;\n  top: 3px;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background-color: #566e4e;\n}\n\n.caps_active:after {\n  background-color: #5ceb28;\n}\n\n.description {\n  margin-top: 15px;\n  text-align: center;\n}\n\n.key,\n.description {\n  font-family: 'Arial', sans-serif;\n  font-size: 20px;\n}\n\n.link {\n  display: block;\n}",""]);const a=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",o=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),o&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),o&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,o,i,n){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(o)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(c[r]=!0)}for(var l=0;l<e.length;l++){var h=[].concat(e[l]);o&&c[h[0]]||(void 0!==n&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=n),s&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=s):h[2]=s),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,o=0;o<t.length;o++)if(t[o].identifier===e){s=o;break}return s}function o(e,o){for(var n={},c=[],a=0;a<e.length;a++){var r=e[a],l=o.base?r[0]+o.base:r[0],h=n[l]||0,d="".concat(l," ").concat(h);n[l]=h+1;var y=s(d),f={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==y)t[y].references++,t[y].updater(f);else{var b=i(f,o);o.byIndex=a,t.splice(a,0,{identifier:d,updater:b,references:1})}c.push(d)}return c}function i(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,i){var n=o(e=e||[],i=i||{});return function(e){e=e||[];for(var c=0;c<n.length;c++){var a=s(n[c]);t[a].references--}for(var r=o(e,i),l=0;l<n.length;l++){var h=s(n[l]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}n=r}}},569:e=>{var t={};e.exports=function(e,s){var o=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var o="";s.supports&&(o+="@supports (".concat(s.supports,") {")),s.media&&(o+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(o+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),o+=s.css,i&&(o+="}"),s.media&&(o+="}"),s.supports&&(o+="}");var n=s.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={id:o,exports:{}};return e[o](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nc=void 0,(()=>{var e=s(379),t=s.n(e),o=s(795),i=s.n(o),n=s(569),c=s.n(n),a=s(565),r=s.n(a),l=s(216),h=s.n(l),d=s(589),y=s.n(d),f=s(426),b={};b.styleTagTransform=y(),b.setAttributes=r(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=h(),t()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals;const m=[{symbol:"`",shift:"~",code:"Backquote"},{symbol:"1",shift:"!",code:"Digit1"},{symbol:"2",shift:"@",code:"Digit2"},{symbol:"3",shift:"#",code:"Digit3"},{symbol:"4",shift:"$",code:"Digit4"},{symbol:"5",shift:"%",code:"Digit5"},{symbol:"6",shift:"^",code:"Digit6"},{symbol:"7",shift:"&",code:"Digit7"},{symbol:"8",shift:"*",code:"Digit8"},{symbol:"9",shift:"(",code:"Digit9"},{symbol:"0",shift:")",code:"Digit0"},{symbol:"-",shift:"_",code:"Minus"},{symbol:"=",shift:"+",code:"Equal"},{symbol:"ðŸ ” Backspace",shift:"ðŸ ” Backspace",code:"Backspace"},{symbol:"Tab",shift:"Tab",code:"Tab"},{symbol:"q",shift:"Q",code:"KeyQ"},{symbol:"w",shift:"W",code:"KeyW"},{symbol:"e",shift:"E",code:"KeyE"},{symbol:"r",shift:"R",code:"KeyR"},{symbol:"t",shift:"T",code:"KeyT"},{symbol:"y",shift:"Y",code:"KeyY"},{symbol:"u",shift:"U",code:"KeyU"},{symbol:"i",shift:"I",code:"KeyI"},{symbol:"o",shift:"O",code:"KeyO"},{symbol:"p",shift:"P",code:"KeyP"},{symbol:"[",shift:"{",code:"BracketLeft"},{symbol:"]",shift:"}",code:"BracketRight"},{symbol:"\\",shift:"|",code:"Backslash"},{symbol:"Caps Lock",shift:"Caps Lock",code:"CapsLock"},{symbol:"a",shift:"A",code:"KeyA"},{symbol:"s",shift:"S",code:"KeyS"},{symbol:"d",shift:"D",code:"KeyD"},{symbol:"f",shift:"F",code:"KeyF"},{symbol:"g",shift:"G",code:"KeyG"},{symbol:"h",shift:"H",code:"KeyH"},{symbol:"j",shift:"J",code:"KeyJ"},{symbol:"k",shift:"K",code:"KeyK"},{symbol:"l",shift:"L",code:"KeyL"},{symbol:";",shift:":",code:"Semicolon"},{symbol:"'",shift:'"',code:"Quote"},{symbol:"Enter",shift:"Enter",code:"Enter"},{symbol:"Shift",shift:"Shift",code:"ShiftLeft"},{symbol:"z",shift:"Z",code:"KeyZ"},{symbol:"x",shift:"X",code:"KeyX"},{symbol:"c",shift:"C",code:"KeyC"},{symbol:"v",shift:"V",code:"KeyV"},{symbol:"b",shift:"B",code:"KeyB"},{symbol:"n",shift:"N",code:"KeyN"},{symbol:"m",shift:"M",code:"KeyM"},{symbol:",",shift:"<",code:"Comma"},{symbol:".",shift:">",code:"Period"},{symbol:"/",shift:"?",code:"Slash"},{symbol:"ðŸ •",shift:"ðŸ •",code:"ArrowUp"},{symbol:"Shift",shift:"Shift",code:"ShiftRight"},{symbol:"Ctrl",shift:"Ctrl",code:"ControlLeft"},{symbol:"En",shift:"En",code:"lang"},{symbol:"Alt",shift:"Alt",code:"AltLeft"},{symbol:" ",shift:" ",code:"Space"},{symbol:"Alt",shift:"Alt",code:"AltRight"},{symbol:"Del",shift:"Del",code:"Delete"},{symbol:"ðŸ ”",shift:"ðŸ ”",code:"ArrowLeft"},{symbol:"ðŸ —",shift:"ðŸ —",code:"ArrowDown"},{symbol:"ðŸ –",shift:"ðŸ –",code:"ArrowRight"},{symbol:"Ctrl",shift:"Ctrl",code:"ControlRight"}],u=[{symbol:"`",shift:"~",code:"Backquote"},{symbol:"1",shift:"!",code:"Digit1"},{symbol:"2",shift:'"',code:"Digit2"},{symbol:"3",shift:"â„–",code:"Digit3"},{symbol:"4",shift:";",code:"Digit4"},{symbol:"5",shift:"%",code:"Digit5"},{symbol:"6",shift:":",code:"Digit6"},{symbol:"7",shift:"?",code:"Digit7"},{symbol:"8",shift:"*",code:"Digit8"},{symbol:"9",shift:"(",code:"Digit9"},{symbol:"0",shift:")",code:"Digit0"},{symbol:"-",shift:"_",code:"Minus"},{symbol:"=",shift:"+",code:"Equal"},{symbol:"ðŸ ” Backspace",shift:"ðŸ ” Backspace",code:"Backspace"},{symbol:"Tab",shift:"Tab",code:"Tab"},{symbol:"Ð¹",shift:"Ð™",code:"KeyQ"},{symbol:"Ñ†",shift:"Ð¦",code:"KeyW"},{symbol:"Ñƒ",shift:"Ð£",code:"KeyE"},{symbol:"Ðº",shift:"Ðš",code:"KeyR"},{symbol:"Ðµ",shift:"Ð•",code:"KeyT"},{symbol:"Ð½",shift:"Ð",code:"KeyY"},{symbol:"Ð³",shift:"Ð“",code:"KeyU"},{symbol:"Ñˆ",shift:"Ð¨",code:"KeyI"},{symbol:"Ñ‰",shift:"Ð©",code:"KeyO"},{symbol:"Ð·",shift:"Ð—",code:"KeyP"},{symbol:"[",shift:"{",code:"BracketLeft"},{symbol:"]",shift:"}",code:"BracketRight"},{symbol:"\\",shift:"|",code:"Backslash"},{symbol:"Caps Lock",shift:"Caps Lock",code:"CapsLock"},{symbol:"Ñ„",shift:"Ð¤",code:"KeyA"},{symbol:"Ñ‹",shift:"Ð«",code:"KeyS"},{symbol:"Ð²",shift:"Ð’",code:"KeyD"},{symbol:"Ð°",shift:"Ð",code:"KeyF"},{symbol:"Ð¿",shift:"ÐŸ",code:"KeyG"},{symbol:"Ñ€",shift:"Ð ",code:"KeyH"},{symbol:"Ð¾",shift:"Ðž",code:"KeyJ"},{symbol:"Ð»",shift:"Ð›",code:"KeyK"},{symbol:"Ð´",shift:"Ð”",code:"KeyL"},{symbol:"Ð¶",shift:"Ð–",code:"Semicolon"},{symbol:"Ñ",shift:"Ð­",code:"Quote"},{symbol:"Enter",shift:"Enter",code:"Enter"},{symbol:"Shift",shift:"Shift",code:"ShiftLeft"},{symbol:"Ñ",shift:"Ð¯",code:"KeyZ"},{symbol:"Ñ‡",shift:"Ð§",code:"KeyX"},{symbol:"Ñ",shift:"Ð¡",code:"KeyC"},{symbol:"Ð¼",shift:"Ðœ",code:"KeyV"},{symbol:"Ð¸",shift:"Ð˜",code:"KeyB"},{symbol:"Ñ‚",shift:"Ð¢",code:"KeyN"},{symbol:"ÑŒ",shift:"Ð¬",code:"KeyM"},{symbol:"Ð±",shift:"Ð‘",code:"Comma"},{symbol:"ÑŽ",shift:"Ð®",code:"Period"},{symbol:".",shift:",",code:"Slash"},{symbol:"ðŸ •",shift:"ðŸ •",code:"ArrowUp"},{symbol:"Shift",shift:"Shift",code:"ShiftRight"},{symbol:"Ctrl",shift:"Ctrl",code:"ControlLeft"},{symbol:"Ru",shift:"Ru",code:"lang"},{symbol:"Alt",shift:"Alt",code:"AltLeft"},{symbol:" ",shift:" ",code:"Space"},{symbol:"Alt",shift:"Alt",code:"AltRight"},{symbol:"Del",shift:"Del",code:"Delete"},{symbol:"ðŸ ”",shift:"ðŸ ”",code:"ArrowLeft"},{symbol:"ðŸ —",shift:"ðŸ —",code:"ArrowDown"},{symbol:"ðŸ –",shift:"ðŸ –",code:"ArrowRight"},{symbol:"Ctrl",shift:"Ctrl",code:"ControlRight"}],p=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","lang","AltLeft","Space","AltRight","Delete","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]];class g{constructor(e,t,s,o){this.elementType=e,this.attributes=t,this.parentElement=s,this.content=o}createElement(){const e=document.createElement(this.elementType);return Object.keys(this.attributes).forEach((t=>{this.attributes[t]&&e.setAttribute(t,this.attributes[t])})),e.textContent=this.content,e}insertElement(){const e=this.createElement();this.parentElement.appendChild(e)}}const k=new class{constructor(){this.isShift=!1,this.isShifted=!1,this.isCapsed=!1,this.lang="ru"===localStorage.getItem("userLang")?u:m}shiftKey(e){for(let t=0;t<e.length;t+=1)if(!e[t].dataset.code.includes("CapsLock")){const s=e[t];s.textContent===this.lang[t].symbol?s.textContent=this.lang[t].shift:s.textContent=this.lang[t].symbol}this.isShifted?this.isShifted=!1:this.isShifted=!0}capitalizeKeys(e){for(let t=0;t<e.length;t+=1)if(e[t].dataset.code.includes("Key")){const s=e[t];s.textContent===this.lang[t].symbol?s.textContent=this.lang[t].shift:s.textContent=this.lang[t].symbol}}checkShift(e,t){t.shiftKey||this.isShift||(this.shiftKey(e),e.forEach((e=>e.classList.remove("key_active"))))}setLangStorage(){this.lang===m?localStorage.setItem("userLang","en"):localStorage.setItem("userLang","ru")}getLang(){[...document.querySelectorAll(".key")].forEach(((e,t)=>{e.textContent=this.lang[t].symbol}))}changeLang(e){this.lang=this.lang===m?u:m,this.setLangStorage();for(let t=0;t<e.length;t+=1)if(!e[t].dataset.code.includes("CapsLock")){const s=e[t];s.textContent=this.lang[t].symbol,s.dataset.code=this.lang[t].code}this.isCapsed&&this.capitalizeKeys(e),this.isShifted&&(this.shiftKey(e),this.isShifted=!0)}handleClicks(e,t){if(t.repeat)return void t.preventDefault();const s=t.type,o=document.querySelector(".textarea"),i=[...document.querySelectorAll(".key")],n="click"===s||"keydown"===s,c=o.selectionStart!==o.selectionEnd;let a=o.selectionStart,r="",l="";if(e.classList.contains("key")){t.preventDefault(),r=o.value.substring(0,o.selectionStart),l=o.value.substring(o.selectionEnd,o.value.length),o.focus();const{dataset:{mode:h}}=e;"left"!==h&&"backspace"!==h||!n?h&&"enter"!==h&&"tab"!==h&&"right"!==h||!n?"up"===h&&n?a=0:"down"===h&&n&&(a=o.value.length):a+=1:a=a>0?a-1:0,h||!n||t.ctrlKey?"enter"===h&&n?o.value=`${r}\n${l}`:"backspace"===h&&n?c?(o.value=`${r}${l}`,a+=1):o.value=""!==l?r.slice(0,r.length-1)+l:o.value.slice(0,o.value.length-1):"caps"===h&&n?(this.checkShift(i,t),this.capitalizeKeys(i,e),e.classList.toggle("caps_active"),this.isCapsed?this.isCapsed=!1:this.isCapsed=!0):"shift"===h?n&&!this.isShift?(this.isShift=!0,this.shiftKey(i),e.classList.add("key_active")):(this.isShift=!1,this.checkShift(i,t)):"tab"===h&&n?o.value=`${r}\t${l}`:"left"!==h||"click"!==s||t.ctrlKey?"del"===h&&n?o.value=r+l.slice(1,l.length):(t.ctrlKey&&t.altKey||"lang"===h)&&this.changeLang(i):(o.selectionStart=a,o.selectionEnd=a):o.value=r+e.textContent+l,o.setSelectionRange(a,a),"shift"!==h&&"lang"!==h&&this.isShifted&&(this.isShift=!1,this.checkShift(i,t))}}start(){!function(e){const t=document.querySelector("body");new g("textarea",{class:"centered textarea",placeholder:"Use ðŸ ” and ðŸ – to move cursor left and right, ðŸ • to move cursor to the start and ðŸ — to the end"},t).insertElement(),new g("div",{class:"centered board"},t).insertElement(),new g("p",{class:"centered description"},t,"Made in Windows. Use Ctrl + Alt, or a click on a special key to change language. Check repo below, to see usage of ES6+ features: let, const, arrow functions, classes.").insertElement(),new g("a",{class:"centered description link",href:"https://github.com/gl-el/virtual-keyboard/tree/development",target:"_blank"},t,"REPO").insertElement(),e.forEach((e=>{const t=document.querySelector(".board"),s=new g("div",{class:"board__row"},t).createElement();e.forEach((e=>{let t="",o="key";switch(e){case"Tab":t=e.toLowerCase(),o+=" key_double";break;case"Backspace":case"Enter":t=e.toLowerCase(),o+=" key_long";break;case"CapsLock":t="caps",o+=" key_triple key_caps";break;case"lang":t=e.toLowerCase(),o+=" key_square";break;case"Delete":t="del",o+=" key_square";break;case"ShiftLeft":t="shift",o+=" key_long";break;case"ShiftRight":t="shift",o+=" key_triple";break;case"ArrowUp":t="up",o+=" key_square";break;case"ArrowLeft":t="left",o+=" key_square";break;case"ArrowRight":t="right",o+=" key_square";break;case"ArrowDown":t="down",o+=" key_square";break;case"ControlLeft":case"ControlRight":t="ctrl",o+=" key_square";break;case"AltLeft":case"AltRigth":t="alt",o+=" key_square";break;case"Space":o+=" key_long";break;default:o+=" key_square"}new g("button",{class:`${o}`,"data-code":`${e}`,"data-mode":`${t}`},s).insertElement()})),t.appendChild(s)}))}(p),this.getLang(),document.addEventListener("keydown",(e=>{try{const t=document.querySelector(`.key[data-code="${e.code}"]`);return this.handleClicks(t,e),t.classList.add("key_active"),t}catch(e){return"no key"}})),document.addEventListener("keyup",(e=>{try{const t=document.querySelector(`.key[data-code="${e.code}"]`);return this.handleClicks(t,e),t.classList.remove("key_active"),t}catch(e){return"no key"}})),document.querySelector(".board").addEventListener("click",(e=>{this.handleClicks(e.target,e)}))}};k.start()})()})();